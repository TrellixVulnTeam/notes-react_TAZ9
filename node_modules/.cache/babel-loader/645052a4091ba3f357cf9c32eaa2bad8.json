{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useRef, useState } from \"react\";\nimport { List } from \"@react-md/list\";\nimport { Sheet } from \"@react-md/sheet\";\nimport { useOnUnmount } from \"@react-md/utils\";\nimport { MenuKeyboardFocusProvider } from \"./MenuKeyboardFocusProvider\";\nimport { MenuWidget } from \"./MenuWidget\";\n/**\n * Implements a `Menu` using the `Sheet` component that probably shouldn't\n * really be used externally.\n *\n * @remarks \\@since 5.0.0\n * @internal\n */\n\nexport function MenuSheet(_a) {\n  var id = _a.id,\n      children = _a.children,\n      header = _a.header,\n      footer = _a.footer,\n      horizontal = _a.horizontal,\n      menuRef = _a.menuRef,\n      menuProps = _a.menuProps,\n      listStyle = _a.listStyle,\n      listClassName = _a.listClassName,\n      listProps = _a.listProps,\n      _b = _a.position,\n      position = _b === void 0 ? \"bottom\" : _b,\n      _c = _a.verticalSize,\n      verticalSize = _c === void 0 ? \"touch\" : _c,\n      onClick = _a.onClick,\n      overlayProps = _a.overlayProps,\n      onRequestClose = _a.onRequestClose,\n      props = __rest(_a, [\"id\", \"children\", \"header\", \"footer\", \"horizontal\", \"menuRef\", \"menuProps\", \"listStyle\", \"listClassName\", \"listProps\", \"position\", \"verticalSize\", \"onClick\", \"overlayProps\", \"onRequestClose\"]);\n\n  var ariaLabel = props[\"aria-label\"],\n      ariaLabelledBy = props[\"aria-labelledby\"];\n  var listRef = useRef(null); // Since there is the possibility of other tab focusable elements within the\n  // sheet and the menu items are programmatically focused, the menu's tabIndex\n  // needs to be set to `-1` while one of the child menu items are focused. This\n  // allows Shift+Tab correctly focuses the previous focusable element within\n  // the sheet. Since `onFocus` and `onBlur` will be bubbled up to the menu\n  // widget each time a new MenuItem is focused, only disable the focused state\n  // if the blur event is fired without another focus event within an animation\n  // frame.\n\n  var _d = __read(useState(false), 2),\n      focused = _d[0],\n      setFocused = _d[1];\n\n  var blurredFrame = useRef(0);\n  useOnUnmount(function () {\n    window.cancelAnimationFrame(blurredFrame.current);\n  });\n  return _jsxs(Sheet, __assign({\n    id: \"\".concat(id, \"-sheet\")\n  }, props, {\n    onRequestClose: onRequestClose,\n    overlayProps: __assign(__assign({}, overlayProps), {\n      onClick: function (event) {\n        var _a;\n\n        (_a = overlayProps === null || overlayProps === void 0 ? void 0 : overlayProps.onClick) === null || _a === void 0 ? void 0 : _a.call(overlayProps, event); // prevent closing parent menus if the overlay element is clicked.\n\n        event.stopPropagation();\n        onRequestClose();\n      }\n    }),\n    position: position,\n    verticalSize: verticalSize,\n    onClick: function (event) {\n      var _a;\n\n      onClick === null || onClick === void 0 ? void 0 : onClick(event); // Prevent closing parent sheet/menus if an element in the header or\n      // footer is clicked\n\n      if (!(event.target instanceof HTMLElement) || !((_a = listRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.target))) {\n        event.stopPropagation();\n      }\n    }\n  }, {\n    children: [header, _jsx(MenuKeyboardFocusProvider, __assign({\n      horizontal: horizontal\n    }, {\n      children: _jsx(MenuWidget, __assign({\n        \"aria-label\": ariaLabel,\n        \"aria-labelledby\": ariaLabelledBy,\n        id: id,\n        ref: menuRef,\n        tabIndex: focused ? -1 : 0\n      }, menuProps, {\n        onFocus: function (event) {\n          var _a;\n\n          (_a = menuProps === null || menuProps === void 0 ? void 0 : menuProps.onFocus) === null || _a === void 0 ? void 0 : _a.call(menuProps, event);\n          window.cancelAnimationFrame(blurredFrame.current);\n          setFocused(true);\n        },\n        onBlur: function (event) {\n          var _a;\n\n          (_a = menuProps === null || menuProps === void 0 ? void 0 : menuProps.onBlur) === null || _a === void 0 ? void 0 : _a.call(menuProps, event);\n          blurredFrame.current = window.requestAnimationFrame(function () {\n            setFocused(false);\n          });\n        },\n        onKeyDown: function (event) {\n          var _a; // the tab keypress should use the sheet's behavior instead of\n          // closing the menus\n\n\n          if (event.key === \"Tab\") {\n            return;\n          }\n\n          (_a = menuProps === null || menuProps === void 0 ? void 0 : menuProps.onKeyDown) === null || _a === void 0 ? void 0 : _a.call(menuProps, event);\n        },\n        disableElevation: true\n      }, {\n        children: _jsx(List, __assign({}, listProps, {\n          style: listStyle !== null && listStyle !== void 0 ? listStyle : listProps === null || listProps === void 0 ? void 0 : listProps.style,\n          className: listClassName !== null && listClassName !== void 0 ? listClassName : listProps === null || listProps === void 0 ? void 0 : listProps.className,\n          ref: listRef,\n          horizontal: horizontal,\n          onClick: function (event) {\n            var _a;\n\n            (_a = listProps === null || listProps === void 0 ? void 0 : listProps.onClick) === null || _a === void 0 ? void 0 : _a.call(listProps, event); // this makes it so you can click on the menu/list without\n            // closing the menu\n\n            if (event.target === event.currentTarget) {\n              event.stopPropagation();\n            }\n          }\n        }, {\n          children: children\n        }))\n      }))\n    })), footer]\n  }));\n}","map":{"version":3,"mappings":"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","names":["useRef","useState","List","Sheet","useOnUnmount","MenuKeyboardFocusProvider","MenuWidget","MenuSheet","_a","children","header","footer","horizontal","menuRef","menuProps","listStyle","listClassName","listProps","_b","position","_c","verticalSize","onClick","overlayProps","onRequestClose","props","ariaLabel","ariaLabelledBy","listRef","focused","setFocused","blurredFrame","window","cancelAnimationFrame","current","_jsxs","__assign","id","event","stopPropagation","target","HTMLElement","contains","_jsx","ref","tabIndex","onFocus","onBlur","requestAnimationFrame","onKeyDown","key","disableElevation","style","className","currentTarget"],"sources":["C:\\Users\\hungr\\Documents\\VS-CODE\\notes-react\\node_modules\\@react-md\\menu\\src\\MenuSheet.tsx"],"sourcesContent":["import type { HTMLAttributes, ReactElement, ReactNode, Ref } from \"react\";\nimport { useRef, useState } from \"react\";\nimport type { ListElement } from \"@react-md/list\";\nimport { List } from \"@react-md/list\";\nimport type { BaseSheetProps } from \"@react-md/sheet\";\nimport { Sheet } from \"@react-md/sheet\";\nimport type {\n  KeyboardFocusHookOptions,\n  LabelRequiredForA11y,\n} from \"@react-md/utils\";\nimport { useOnUnmount } from \"@react-md/utils\";\n\nimport { MenuKeyboardFocusProvider } from \"./MenuKeyboardFocusProvider\";\nimport { MenuWidget } from \"./MenuWidget\";\nimport type { MenuListProps, MenuOrientationProps } from \"./types\";\n\n/** @remarks \\@since 5.0.0 */\nexport interface MenuSheetProps\n  extends BaseSheetProps,\n    KeyboardFocusHookOptions<HTMLDivElement>,\n    MenuOrientationProps,\n    MenuListProps {\n  /** {@inheritDoc MenuConfiguration.sheetHeader} */\n  header?: ReactNode;\n  /** {@inheritDoc MenuConfiguration.sheetFooter} */\n  footer?: ReactNode;\n\n  /**\n   * The `Menu`s children.\n   */\n  children: ReactNode;\n\n  /**\n   * This should be the `menuRef` returned by the `useMenu` hook so that the\n   * menu can be focused on mount.\n   */\n  menuRef: Ref<HTMLDivElement>;\n\n  /**\n   * Any additional props that should be passed to the `Menu` component.\n   */\n  menuProps?: HTMLAttributes<HTMLDivElement>;\n}\n\n/**\n * Implements a `Menu` using the `Sheet` component that probably shouldn't\n * really be used externally.\n *\n * @remarks \\@since 5.0.0\n * @internal\n */\nexport function MenuSheet({\n  id,\n  children,\n  header,\n  footer,\n  horizontal,\n  menuRef,\n  menuProps,\n  listStyle,\n  listClassName,\n  listProps,\n  position = \"bottom\",\n  verticalSize = \"touch\",\n  onClick,\n  overlayProps,\n  onRequestClose,\n  ...props\n}: LabelRequiredForA11y<MenuSheetProps>): ReactElement {\n  const { \"aria-label\": ariaLabel, \"aria-labelledby\": ariaLabelledBy } = props;\n  const listRef = useRef<ListElement>(null);\n\n  // Since there is the possibility of other tab focusable elements within the\n  // sheet and the menu items are programmatically focused, the menu's tabIndex\n  // needs to be set to `-1` while one of the child menu items are focused. This\n  // allows Shift+Tab correctly focuses the previous focusable element within\n  // the sheet. Since `onFocus` and `onBlur` will be bubbled up to the menu\n  // widget each time a new MenuItem is focused, only disable the focused state\n  // if the blur event is fired without another focus event within an animation\n  // frame.\n  const [focused, setFocused] = useState(false);\n  const blurredFrame = useRef(0);\n  useOnUnmount(() => {\n    window.cancelAnimationFrame(blurredFrame.current);\n  });\n\n  return (\n    <Sheet\n      id={`${id}-sheet`}\n      {...props}\n      onRequestClose={onRequestClose}\n      overlayProps={{\n        ...overlayProps,\n        onClick: (event) => {\n          overlayProps?.onClick?.(event);\n\n          // prevent closing parent menus if the overlay element is clicked.\n          event.stopPropagation();\n          onRequestClose();\n        },\n      }}\n      position={position}\n      verticalSize={verticalSize}\n      onClick={(event) => {\n        onClick?.(event);\n\n        // Prevent closing parent sheet/menus if an element in the header or\n        // footer is clicked\n        if (\n          !(event.target instanceof HTMLElement) ||\n          !listRef.current?.contains(event.target)\n        ) {\n          event.stopPropagation();\n        }\n      }}\n    >\n      {header}\n      <MenuKeyboardFocusProvider horizontal={horizontal}>\n        <MenuWidget\n          aria-label={ariaLabel}\n          aria-labelledby={ariaLabelledBy as string}\n          id={id}\n          ref={menuRef}\n          tabIndex={focused ? -1 : 0}\n          {...menuProps}\n          onFocus={(event) => {\n            menuProps?.onFocus?.(event);\n            window.cancelAnimationFrame(blurredFrame.current);\n            setFocused(true);\n          }}\n          onBlur={(event) => {\n            menuProps?.onBlur?.(event);\n            blurredFrame.current = window.requestAnimationFrame(() => {\n              setFocused(false);\n            });\n          }}\n          onKeyDown={(event) => {\n            // the tab keypress should use the sheet's behavior instead of\n            // closing the menus\n            if (event.key === \"Tab\") {\n              return;\n            }\n            menuProps?.onKeyDown?.(event);\n          }}\n          disableElevation\n        >\n          <List\n            {...listProps}\n            style={listStyle ?? listProps?.style}\n            className={listClassName ?? listProps?.className}\n            ref={listRef}\n            horizontal={horizontal}\n            onClick={(event) => {\n              listProps?.onClick?.(event);\n\n              // this makes it so you can click on the menu/list without\n              // closing the menu\n              if (event.target === event.currentTarget) {\n                event.stopPropagation();\n              }\n            }}\n          >\n            {children}\n          </List>\n        </MenuWidget>\n      </MenuKeyboardFocusProvider>\n      {footer}\n    </Sheet>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}