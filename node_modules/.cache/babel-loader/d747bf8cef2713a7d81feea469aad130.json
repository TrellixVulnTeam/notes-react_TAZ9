{"ast":null,"code":"var __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nimport { useReducer, useRef } from \"react\";\nimport { useEnsuredRef, useIsomorphicLayoutEffect } from \"@react-md/utils\";\nimport { getTransitionTimeout } from \"./utils\";\nvar INITIAL_STATE = {\n  appearing: false,\n  rendered: true,\n  stage: \"exited\"\n};\n/**\n * You'll most likely want to use the {@link useCSSTransition} hook instead\n * since this is just a low-level hook that can be used to transition using\n * timeouts.\n *\n * @typeParam E - The HTMLElement type used or the ref required for the\n * transition.\n * @remarks \\@since 4.0.0\n */\n\nexport function useTransition(_a) {\n  var nodeRef = _a.nodeRef,\n      timeout = _a.timeout,\n      transitionIn = _a.transitionIn,\n      _b = _a.reflow,\n      reflow = _b === void 0 ? false : _b,\n      _c = _a.temporary,\n      temporary = _c === void 0 ? false : _c,\n      _d = _a.appear,\n      appear = _d === void 0 ? false : _d,\n      _e = _a.enter,\n      enter = _e === void 0 ? true : _e,\n      _f = _a.exit,\n      exit = _f === void 0 ? true : _f,\n      onEnter = _a.onEnter,\n      onEntering = _a.onEntering,\n      onEntered = _a.onEntered,\n      onExit = _a.onExit,\n      onExiting = _a.onExiting,\n      onExited = _a.onExited;\n  var configuration = {\n    appear: appear,\n    timeout: getTransitionTimeout({\n      timeout: timeout,\n      appear: appear,\n      enter: enter,\n      exit: exit\n    }),\n    reflow: reflow,\n    onEnter: onEnter,\n    onEntering: onEntering,\n    onEntered: onEntered,\n    onExit: onExit,\n    onExiting: onExiting,\n    onExited: onExited\n  };\n  var configurationRef = useRef(configuration);\n  configurationRef.current = configuration;\n\n  var _g = __read(useEnsuredRef(nodeRef), 2),\n      ref = _g[0],\n      refCallback = _g[1];\n\n  var _h = __read(useReducer(function reducer(state, action) {\n    var _a = configuration.timeout,\n        appear = _a.appear,\n        enter = _a.enter,\n        exit = _a.exit;\n    var appearing = state.appearing;\n\n    switch (action) {\n      case \"enter\":\n        {\n          var duration = appearing ? appear : enter;\n          return {\n            stage: duration > 0 ? \"enter\" : \"entered\",\n            rendered: true,\n            appearing: appearing\n          };\n        }\n\n      case \"entering\":\n      case \"entered\":\n        return {\n          stage: action,\n          rendered: true,\n          appearing: appearing\n        };\n\n      case \"exit\":\n        {\n          var stage_1 = exit > 0 ? \"exit\" : \"exited\";\n          return {\n            stage: stage_1,\n            rendered: !temporary || stage_1 !== \"exited\",\n            appearing: false\n          };\n        }\n\n      case \"exiting\":\n      case \"exited\":\n        return {\n          stage: action,\n          rendered: true,\n          appearing: false\n        };\n\n      case \"unmount\":\n        return {\n          stage: \"exited\",\n          rendered: false,\n          appearing: false\n        };\n    }\n  }, INITIAL_STATE, function () {\n    return {\n      appearing: appear && transitionIn,\n      rendered: !temporary || transitionIn,\n      stage: transitionIn && !appear ? \"entered\" : \"exited\"\n    };\n  }), 2),\n      state = _h[0],\n      dispatch = _h[1];\n\n  var appearing = state.appearing,\n      rendered = state.rendered,\n      stage = state.stage;\n  var isFirstRender = useRef(true);\n  useIsomorphicLayoutEffect(function () {\n    var _a = configurationRef.current,\n        appear = _a.appear,\n        timeout = _a.timeout,\n        reflow = _a.reflow,\n        onEnter = _a.onEnter,\n        onEntering = _a.onEntering,\n        onEntered = _a.onEntered,\n        onExit = _a.onExit,\n        onExiting = _a.onExiting,\n        onExited = _a.onExited;\n\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n\n      if (appear && transitionIn) {\n        dispatch(\"enter\");\n      }\n\n      return;\n    } // Cancel any exiting/exited transitions and instead immediately start the\n    // enter transition\n\n\n    if (transitionIn && stage.startsWith(\"exit\")) {\n      dispatch(\"enter\");\n      return;\n    } // Cancel any entering/entered transitions and instead immediately start the\n    // exit transition\n\n\n    if (!transitionIn && stage.startsWith(\"enter\")) {\n      dispatch(\"exit\");\n      return;\n    }\n\n    if (reflow && ref.current && stage !== \"exited\" && stage !== \"entered\") {\n      // force reflow by accessing scrollTop\n      ref.current.scrollTop;\n    }\n\n    var duration = 0;\n    var nextStage = stage;\n\n    switch (stage) {\n      case \"enter\":\n        onEnter === null || onEnter === void 0 ? void 0 : onEnter(appearing);\n        nextStage = \"entering\";\n        break;\n\n      case \"entering\":\n        onEntering === null || onEntering === void 0 ? void 0 : onEntering(appearing);\n        duration = timeout.enter;\n        nextStage = \"entered\";\n        break;\n\n      case \"entered\":\n        onEntered === null || onEntered === void 0 ? void 0 : onEntered(appearing);\n        break;\n\n      case \"exit\":\n        onExit === null || onExit === void 0 ? void 0 : onExit();\n        nextStage = \"exiting\";\n        break;\n\n      case \"exiting\":\n        onExiting === null || onExiting === void 0 ? void 0 : onExiting();\n        duration = timeout.exit;\n        nextStage = \"exited\";\n        break;\n\n      case \"exited\":\n        onExited === null || onExited === void 0 ? void 0 : onExited();\n        break;\n    }\n\n    if (stage === nextStage) {\n      if (stage === \"exited\" && temporary) {\n        dispatch(\"unmount\");\n      }\n\n      return;\n    }\n\n    if (duration <= 0) {\n      dispatch(nextStage);\n      return;\n    }\n\n    var timer = window.setTimeout(function () {\n      dispatch(nextStage);\n    }, duration);\n    return function () {\n      window.clearTimeout(timer);\n    };\n  }, [appearing, ref, stage, temporary, transitionIn]);\n  return {\n    ref: refCallback,\n    stage: stage,\n    rendered: rendered,\n    appearing: appearing,\n    transitionTo: dispatch\n  };\n}","map":{"version":3,"mappings":"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","names":["useReducer","useRef","useEnsuredRef","useIsomorphicLayoutEffect","getTransitionTimeout","INITIAL_STATE","appearing","rendered","stage","useTransition","_a","nodeRef","timeout","transitionIn","_b","reflow","_c","temporary","_d","appear","_e","enter","_f","exit","onEnter","onEntering","onEntered","onExit","onExiting","onExited","configuration","configurationRef","current","ref","refCallback","reducer","state","action","duration","stage_1","dispatch","isFirstRender","startsWith","scrollTop","nextStage","timer","window","setTimeout","clearTimeout","transitionTo"],"sources":["C:\\Users\\hungr\\Documents\\VS-CODE\\notes-react\\node_modules\\@react-md\\transition\\src\\useTransition.ts"],"sourcesContent":["import { useReducer, useRef } from \"react\";\nimport { useEnsuredRef, useIsomorphicLayoutEffect } from \"@react-md/utils\";\n\nimport type {\n  TransitionHookOptions,\n  TransitionHookReturnValue,\n  TransitionStage,\n  TransitionState,\n} from \"./types\";\nimport { getTransitionTimeout } from \"./utils\";\n\nconst INITIAL_STATE: TransitionState = {\n  appearing: false,\n  rendered: true,\n  stage: \"exited\",\n};\n\n/**\n * You'll most likely want to use the {@link useCSSTransition} hook instead\n * since this is just a low-level hook that can be used to transition using\n * timeouts.\n *\n * @typeParam E - The HTMLElement type used or the ref required for the\n * transition.\n * @remarks \\@since 4.0.0\n */\nexport function useTransition<E extends HTMLElement>({\n  nodeRef,\n  timeout,\n  transitionIn,\n  reflow = false,\n  temporary = false,\n  appear = false,\n  enter = true,\n  exit = true,\n  onEnter,\n  onEntering,\n  onEntered,\n  onExit,\n  onExiting,\n  onExited,\n}: TransitionHookOptions<E>): TransitionHookReturnValue<E> {\n  const configuration = {\n    appear,\n    timeout: getTransitionTimeout({ timeout, appear, enter, exit }),\n    reflow,\n    onEnter,\n    onEntering,\n    onEntered,\n    onExit,\n    onExiting,\n    onExited,\n  } as const;\n  const configurationRef = useRef(configuration);\n  configurationRef.current = configuration;\n\n  const [ref, refCallback] = useEnsuredRef<E>(nodeRef);\n  const [state, dispatch] = useReducer(\n    function reducer(\n      state: TransitionState,\n      action: TransitionStage | \"unmount\"\n    ): TransitionState {\n      const { appear, enter, exit } = configuration.timeout;\n      const { appearing } = state;\n      switch (action) {\n        case \"enter\": {\n          const duration = appearing ? appear : enter;\n          return {\n            stage: duration > 0 ? \"enter\" : \"entered\",\n            rendered: true,\n            appearing,\n          };\n        }\n        case \"entering\":\n        case \"entered\":\n          return {\n            stage: action,\n            rendered: true,\n            appearing,\n          };\n        case \"exit\": {\n          const stage = exit > 0 ? \"exit\" : \"exited\";\n          return {\n            stage,\n            rendered: !temporary || stage !== \"exited\",\n            appearing: false,\n          };\n        }\n        case \"exiting\":\n        case \"exited\":\n          return {\n            stage: action,\n            rendered: true,\n            appearing: false,\n          };\n        case \"unmount\":\n          return {\n            stage: \"exited\",\n            rendered: false,\n            appearing: false,\n          };\n      }\n    },\n    INITIAL_STATE,\n    () =>\n      ({\n        appearing: appear && transitionIn,\n        rendered: !temporary || transitionIn,\n        stage: transitionIn && !appear ? \"entered\" : \"exited\",\n      } as const)\n  );\n  const { appearing, rendered, stage } = state;\n\n  const isFirstRender = useRef(true);\n  useIsomorphicLayoutEffect(() => {\n    const {\n      appear,\n      timeout,\n      reflow,\n      onEnter,\n      onEntering,\n      onEntered,\n      onExit,\n      onExiting,\n      onExited,\n    } = configurationRef.current;\n\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n      if (appear && transitionIn) {\n        dispatch(\"enter\");\n      }\n\n      return;\n    }\n\n    // Cancel any exiting/exited transitions and instead immediately start the\n    // enter transition\n    if (transitionIn && stage.startsWith(\"exit\")) {\n      dispatch(\"enter\");\n      return;\n    }\n\n    // Cancel any entering/entered transitions and instead immediately start the\n    // exit transition\n    if (!transitionIn && stage.startsWith(\"enter\")) {\n      dispatch(\"exit\");\n      return;\n    }\n\n    if (reflow && ref.current && stage !== \"exited\" && stage !== \"entered\") {\n      // force reflow by accessing scrollTop\n      ref.current.scrollTop;\n    }\n\n    let duration = 0;\n    let nextStage: TransitionStage = stage;\n    switch (stage) {\n      case \"enter\":\n        onEnter?.(appearing);\n        nextStage = \"entering\";\n        break;\n      case \"entering\":\n        onEntering?.(appearing);\n        duration = timeout.enter;\n        nextStage = \"entered\";\n        break;\n      case \"entered\":\n        onEntered?.(appearing);\n        break;\n      case \"exit\":\n        onExit?.();\n        nextStage = \"exiting\";\n        break;\n      case \"exiting\":\n        onExiting?.();\n        duration = timeout.exit;\n        nextStage = \"exited\";\n        break;\n      case \"exited\":\n        onExited?.();\n        break;\n    }\n\n    if (stage === nextStage) {\n      if (stage === \"exited\" && temporary) {\n        dispatch(\"unmount\");\n      }\n\n      return;\n    }\n\n    if (duration <= 0) {\n      dispatch(nextStage);\n      return;\n    }\n\n    const timer = window.setTimeout(() => {\n      dispatch(nextStage);\n    }, duration);\n\n    return () => {\n      window.clearTimeout(timer);\n    };\n  }, [appearing, ref, stage, temporary, transitionIn]);\n\n  return {\n    ref: refCallback,\n    stage,\n    rendered,\n    appearing,\n    transitionTo: dispatch,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}