{"ast":null,"code":"import _toConsumableArray from\"C:/Users/hungr/Documents/VS-CODE/notes-react/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/hungr/Documents/VS-CODE/notes-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/hungr/Documents/VS-CODE/notes-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/hungr/Documents/VS-CODE/notes-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import\"./index.css\";import Note from\"./components/Note\";import Header from\"./components/Header\";import AddNote from\"./components/AddNote\";import Search from\"./components/Search\";import NotesList from\"./components/NotesList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNotes=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),darkMode=_useState4[0],setDarkMode=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),searchNote=_useState6[0],setSearchNote=_useState6[1];// show notes\nuseEffect(function(){var getNotes=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var getFromServer;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchNotes();case 2:getFromServer=_context.sent;setNotes(getFromServer);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getNotes(){return _ref.apply(this,arguments);};}();getNotes();},[]);// fetch notes\nvar fetchNotes=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var res,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"http://localhost:3300/notes\");case 2:res=_context2.sent;_context2.next=5;return res.json();case 5:data=_context2.sent;return _context2.abrupt(\"return\",data);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchNotes(){return _ref2.apply(this,arguments);};}();// add note\nvar addNote=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(text){var date,number,newNote,res,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:date=new Date();number=0;newNote={id:number,text:text,time:date.toLocaleTimeString(),date:date.toLocaleDateString()};/* add note to db */_context3.next=5;return fetch(\"http://localhost:3300/notes\",{method:\"POST\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify(newNote)});case 5:res=_context3.sent;_context3.next=8;return res.json();case 8:data=_context3.sent;setNotes([].concat(_toConsumableArray(NotesList),[data.res]));case 10:case\"end\":return _context3.stop();}}},_callee3);}));return function addNote(_x){return _ref3.apply(this,arguments);};}();// this for deleting notes\nvar deletingNote=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id){var response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"http://localhost:3300/notes/\".concat(id),{method:\"DELETE\"});case 2:response=_context4.sent;//We should control the response status to decide if we will change the state or not.\nresponse.status===200?setNotes(notes.filter(function(note){return note.id!==id;})):alert(\"Error Deleting This Note\");case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function deletingNote(_x2){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(darkMode&&\"dark-mode\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Header,{handleToggleDarkMode:setDarkMode}),/*#__PURE__*/_jsx(Search,{handleSearch:searchNote}),/*#__PURE__*/_jsx(NotesList,{notes:notes.filter(function(note){return note.text.toLowerCase().includes(searchNote);}),handleAddNote:addNote,handleDelete:deletingNote})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Note","Header","AddNote","Search","NotesList","App","notes","setNotes","darkMode","setDarkMode","searchNote","setSearchNote","getNotes","fetchNotes","getFromServer","fetch","res","json","data","addNote","text","date","Date","number","newNote","id","time","toLocaleTimeString","toLocaleDateString","method","headers","body","JSON","stringify","deletingNote","response","status","filter","note","alert","toLowerCase","includes"],"sources":["C:/Users/hungr/Documents/VS-CODE/notes-react/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./index.css\";\nimport Note from \"./components/Note\";\nimport Header from \"./components/Header\";\nimport AddNote from \"./components/AddNote\";\nimport Search from \"./components/Search\";\nimport NotesList from \"./components/NotesList\";\nfunction App() {\n  const [notes, setNotes] = useState([]);\n  const [darkMode, setDarkMode] = useState(false);\n  const [searchNote, setSearchNote] = useState(\"\");\n\n  // show notes\n  useEffect(() => {\n    const getNotes = async () => {\n      const getFromServer = await fetchNotes();\n      setNotes(getFromServer);\n    };\n\n    getNotes();\n  }, []);\n\n  // fetch notes\n  const fetchNotes = async () => {\n    const res = await fetch(\"http://localhost:3300/notes\");\n    const data = await res.json();\n\n    return data;\n  };\n\n  // add note\n  const addNote = async (text) => {\n    const date = new Date();\n    var number = 0;\n    const newNote = {\n      id: number,\n      text: text,\n      time: date.toLocaleTimeString(),\n      date: date.toLocaleDateString(),\n    };\n\n    /* add note to db */\n    const res = await fetch(\"http://localhost:3300/notes\", {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify(newNote),\n    });\n\n    const data = await res.json();\n\n    setNotes([...NotesList, data.res]);\n  };\n  // this for deleting notes\n  const deletingNote = async (id) => {\n    const response = await fetch(`http://localhost:3300/notes/${id}`, {\n      method: \"DELETE\",\n    });\n    //We should control the response status to decide if we will change the state or not.\n    response.status === 200\n      ? setNotes(notes.filter((note) => note.id !== id))\n      : alert(\"Error Deleting This Note\");\n  };\n\n  return (\n    <div className={`${darkMode && \"dark-mode\"}`}>\n      <div className=\"container\">\n        <Header handleToggleDarkMode={setDarkMode} />\n        <Search handleSearch={searchNote} />\n        <NotesList\n          notes={notes.filter((note) =>\n            note.text.toLowerCase().includes(searchNote)\n          )}\n          handleAddNote={addNote}\n          handleDelete={deletingNote}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"giBAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,aAAP,CACA,MAAOC,KAAP,KAAiB,mBAAjB,CACA,MAAOC,OAAP,KAAmB,qBAAnB,CACA,MAAOC,QAAP,KAAoB,sBAApB,CACA,MAAOC,OAAP,KAAmB,qBAAnB,CACA,MAAOC,UAAP,KAAsB,wBAAtB,C,wFACA,QAASC,IAAT,EAAe,CACb,cAA0BP,QAAQ,CAAC,EAAD,CAAlC,wCAAOQ,KAAP,eAAcC,QAAd,eACA,eAAgCT,QAAQ,CAAC,KAAD,CAAxC,yCAAOU,QAAP,eAAiBC,WAAjB,eACA,eAAoCX,QAAQ,CAAC,EAAD,CAA5C,yCAAOY,UAAP,eAAmBC,aAAnB,eAEA;AACAZ,SAAS,CAAC,UAAM,CACd,GAAMa,SAAQ,4FAAG,6KACaC,WAAU,EADvB,QACTC,aADS,eAEfP,QAAQ,CAACO,aAAD,CAAR,CAFe,sDAAH,kBAARF,SAAQ,0CAAd,CAKAA,QAAQ,GACT,CAPQ,CAON,EAPM,CAAT,CASA;AACA,GAAMC,WAAU,6FAAG,8KACCE,MAAK,CAAC,6BAAD,CADN,QACXC,GADW,uCAEEA,IAAG,CAACC,IAAJ,EAFF,QAEXC,IAFW,iDAIVA,IAJU,0DAAH,kBAAVL,WAAU,2CAAhB,CAOA;AACA,GAAMM,QAAO,6FAAG,kBAAOC,IAAP,yJACRC,IADQ,CACD,GAAIC,KAAJ,EADC,CAEVC,MAFU,CAED,CAFC,CAGRC,OAHQ,CAGE,CACdC,EAAE,CAAEF,MADU,CAEdH,IAAI,CAAEA,IAFQ,CAGdM,IAAI,CAAEL,IAAI,CAACM,kBAAL,EAHQ,CAIdN,IAAI,CAAEA,IAAI,CAACO,kBAAL,EAJQ,CAHF,CAUd,oBAVc,uBAWIb,MAAK,CAAC,6BAAD,CAAgC,CACrDc,MAAM,CAAE,MAD6C,CAErDC,OAAO,CAAE,CACP,eAAgB,kBADT,CAF4C,CAKrDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeT,OAAf,CAL+C,CAAhC,CAXT,QAWRR,GAXQ,uCAmBKA,IAAG,CAACC,IAAJ,EAnBL,QAmBRC,IAnBQ,gBAqBdX,QAAQ,8BAAKH,SAAL,GAAgBc,IAAI,CAACF,GAArB,GAAR,CArBc,yDAAH,kBAAPG,QAAO,6CAAb,CAuBA;AACA,GAAMe,aAAY,6FAAG,kBAAOT,EAAP,4JACIV,MAAK,uCAAgCU,EAAhC,EAAsC,CAChEI,MAAM,CAAE,QADwD,CAAtC,CADT,QACbM,QADa,gBAInB;AACAA,QAAQ,CAACC,MAAT,GAAoB,GAApB,CACI7B,QAAQ,CAACD,KAAK,CAAC+B,MAAN,CAAa,SAACC,IAAD,QAAUA,KAAI,CAACb,EAAL,GAAYA,EAAtB,EAAb,CAAD,CADZ,CAEIc,KAAK,CAAC,0BAAD,CAFT,CALmB,wDAAH,kBAAZL,aAAY,8CAAlB,CAUA,mBACE,YAAK,SAAS,WAAK1B,QAAQ,EAAI,WAAjB,CAAd,uBACE,aAAK,SAAS,CAAC,WAAf,wBACE,KAAC,MAAD,EAAQ,oBAAoB,CAAEC,WAA9B,EADF,cAEE,KAAC,MAAD,EAAQ,YAAY,CAAEC,UAAtB,EAFF,cAGE,KAAC,SAAD,EACE,KAAK,CAAEJ,KAAK,CAAC+B,MAAN,CAAa,SAACC,IAAD,QAClBA,KAAI,CAAClB,IAAL,CAAUoB,WAAV,GAAwBC,QAAxB,CAAiC/B,UAAjC,CADkB,EAAb,CADT,CAIE,aAAa,CAAES,OAJjB,CAKE,YAAY,CAAEe,YALhB,EAHF,GADF,EADF,CAeD,CAED,cAAe7B,IAAf"},"metadata":{},"sourceType":"module"}